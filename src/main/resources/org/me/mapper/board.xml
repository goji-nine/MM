<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">

    <!-- 01. 게시글 전체 목록 조회 -->
    <!-- 쿼리 결과 리턴 -->
    <select id="listAll" resultType="org.me.vo.BoardVo">
        SELECT 
            bno, 
            title, 
            content, 
            writer,
            regdate, 
            updatedate 
        FROM 
            tbl_board_b
        ORDER BY 
            bno desc <!-- asc : 오름차순, desc : 내림차순 -->
    </select>
    
    <!-- 02. 게시글 작성 -->
    <insert id="insertBoard" parameterType="org.me.vo.BoardVo">
        INSERT INTO tbl_board_b (
          bno, 
          title, 
          content, 
          writer,
          regdate,
          updatedate
        ) VALUES (
          SEQ_BOARD_B.NEXTVAL,
          #{title},
          #{content},
          #{writer},
          sysdate,
          sysdate
        )
    </insert>
    
    <!--03. 게시글 상세보기 조회 -->
    <select id="view" resultType="org.me.vo.BoardVo" parameterType="int">
        SELECT bno, 
               title, 
               content, 
               writer,
               regdate, 
               updatedate 
          FROM tbl_board_b 
        WHERE bno = #{bno}
    </select>
    
    <!-- 04. 게시글 수정처리 -->
    <update id="updateBoard" parameterType="org.me.vo.BoardVo">
        UPDATE tbl_board_b SET
            title = #{title},
            content = #{content},
            writer = #{writer}
        WHERE bno = #{bno}
    </update>
    
    <!-- 05. 게시글 삭제처리 -->
    <delete id="deleteBoard" parameterType="int">
        DELETE FROM tbl_board_b
        WHERE bno = #{bno}
    </delete>
</mapper>
